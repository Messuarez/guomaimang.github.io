<!DOCTYPE html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-beta.36" />
    <meta name="theme" content="VuePress Theme Hope" />
    <meta property="og:url" content="https://guomaimang.github.io/note/cs/os/asm/Y86-64-processer-arch.html"><meta property="og:site_name" content="å¼˜æ ‘"><meta property="og:title" content="Y86-64å¤„ç†å™¨æ¶æ„ç®€ä»‹"><meta property="og:type" content="article"><meta property="og:locale" content="zh-CN"><meta property="og:locale:alternate" content="en-US"><meta property="article:published_time" content="2021-05-01T00:00:00.000Z"><link rel="stylesheet" href="//at.alicdn.com/t/font_2410206_mfj6e1vbwo.css"><title>Y86-64å¤„ç†å™¨æ¶æ„ç®€ä»‹ | å¼˜æ ‘</title><meta name="description" content="æœéº¦èŠ’ éŸ©ä½³æ˜ åšå®¢">
    <style>
      :root {
        --bg-color: #fff;
      }

      html[data-theme="dark"] {
        --bg-color: #1d2025;
      }

      html,
      body {
        background-color: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.querySelector("html").setAttribute("data-theme", "dark");
      }
    </script>
    <link rel="stylesheet" href="/assets/style.6b60e16d.css">
    <link rel="modulepreload" href="/assets/app.e03d7337.js"><link rel="modulepreload" href="/assets/Y86-64-processer-arch.html.3776150e.js"><link rel="modulepreload" href="/assets/Y86-64-processer-arch.html.f9488e29.js">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="skip-link sr-only">Skip to content</a><!--]--><div class="theme-container has-toc sidebar-open"><!--[--><header class="navbar"><button class="toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><a href="/" class="home-link"><img class="logo" src="/logo.svg" alt="å¼˜æ ‘"><!----><span class="site-name hide-in-pad">å¼˜æ ‘</span><!--[--><!----><!--]--></a><nav class="nav-links" style=""><div class="nav-item hide-in-mobile"><a href="/" class="nav-link" arialabel="åšå®¢ä¸»é¡µ"><i class="icon iconfont icon-home"></i>åšå®¢ä¸»é¡µ<!----></a></div><div class="nav-item hide-in-mobile"><a href="https://hongshu.zxg.red" rel="noopener noreferrer" target="_blank" arialabel="Research" class="nav-link"><i class="icon iconfont icon-creative"></i>Research<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></div><div class="nav-item hide-in-mobile"><a href="/myself.html" class="nav-link" arialabel="å…³äºæˆ‘"><i class="icon iconfont icon-profile"></i>å…³äºæˆ‘<!----></a></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" arialabel="å­¦ä¹ ç¬”è®°"><span class="title"><i class="icon iconfont icon-note"></i>å­¦ä¹ ç¬”è®°</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>Computer Science</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/note/cs/coding/" class="nav-link" arialabel="Programming"><i class="icon iconfont icon-c"></i>Programming<!----></a></li><li class="dropdown-subitem"><a href="/note/cs/co/" class="nav-link" arialabel="Computer Organization"><i class="icon iconfont icon-workingDirectory"></i>Computer Organization<!----></a></li><li class="dropdown-subitem"><a href="/note/cs/os/" class="nav-link active" arialabel="Operating System"><i class="icon iconfont icon-centos"></i>Operating System<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>Data Science</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/note/ds/da/" class="nav-link" arialabel="Data Analysis"><i class="icon iconfont icon-rank"></i>Data Analysis<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>IT Management</span></h4><ul class="dropdown-subitem-wrapper"></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>Mathematics</span></h4><ul class="dropdown-subitem-wrapper"></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>Others</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/note/others/app/" class="nav-link" arialabel="Computer Application"><i class="icon iconfont icon-app"></i>Computer Application<!----></a></li></ul></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" arialabel="ä¼ é€é—¨"><span class="title"><i class="icon iconfont icon-launch"></i>ä¼ é€é—¨</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>APPS</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://app.hanjiaming.com.cn/unlock-music/" rel="noopener noreferrer" target="_blank" arialabel="Unlock-Music" class="nav-link"><i class="icon iconfont icon-command"></i>Unlock-Music<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>Recommand</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://www.zhongxueguan.cn" rel="noopener noreferrer" target="_blank" arialabel="ä¸­å›½å­¦é¦†è”ç›Ÿ" class="nav-link"><!---->ä¸­å›½å­¦é¦†è”ç›Ÿ<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></li></ul></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" arialabel="æ ¡å›­"><span class="title"><i class="icon iconfont icon-study"></i>æ ¡å›­</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="http://www.hbhszx.cn" rel="noopener noreferrer" target="_blank" arialabel="æ²³åŒ—è¡¡æ°´ä¸­å­¦" class="nav-link"><!---->æ²³åŒ—è¡¡æ°´ä¸­å­¦<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></li><li class="dropdown-item"><a href="https://polyu.edu.hk" rel="noopener noreferrer" target="_blank" arialabel="é¦™æ¸¯ç†å·¥å¤§å­¦" class="nav-link"><!---->é¦™æ¸¯ç†å·¥å¤§å­¦<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></li><li class="dropdown-item"><a href="https://www.fudan.edu.cn" rel="noopener noreferrer" target="_blank" arialabel="å¤æ—¦å¤§å­¦" class="nav-link"><!---->å¤æ—¦å¤§å­¦<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" arialabel="æ›´å¤š"><span class="title"><i class="icon iconfont icon-categoryselected"></i>æ›´å¤š</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/#" class="nav-link" arialabel="Friend links"><!---->Friend links<!----></a></li><li class="dropdown-item"><a href="/#" class="nav-link" arialabel="Support"><!---->Support<!----></a></li></ul></button></div></div></nav><div class="nav-actions-wrapper"><!--[--><!----><!--]--><div class="nav-item"><div class="dropdown-wrapper i18n-dropdown"><button class="dropdown-title" type="button" arialabel="é€‰æ‹©è¯­è¨€"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon i18n-icon" viewbox="0 0 1024 1024" arialabelledby="i18n" style="width:1rem;height:1rem;vertical-align:middle;"><title id="i18n" lang="en">i18n icon</title><g fill="currentColor"><path d="M379.392 460.8 494.08 575.488l-42.496 102.4L307.2 532.48 138.24 701.44l-71.68-72.704L234.496 460.8l-45.056-45.056c-27.136-27.136-51.2-66.56-66.56-108.544h112.64c7.68 14.336 16.896 27.136 26.112 35.84l45.568 46.08 45.056-45.056C382.976 312.32 409.6 247.808 409.6 204.8H0V102.4h256V0h102.4v102.4h256v102.4H512c0 70.144-37.888 161.28-87.04 210.944L378.88 460.8zM576 870.4 512 1024H409.6l256-614.4H768l256 614.4H921.6l-64-153.6H576zM618.496 768h196.608L716.8 532.48 618.496 768z"></path></g></svg><!--]--><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a aria-current="page" href="/note/cs/os/asm/Y86-64-processer-arch.html" class="router-link-active router-link-exact-active nav-link active" arialabel="ç®€ä½“ä¸­æ–‡"><!---->ç®€ä½“ä¸­æ–‡<!----></a></li><li class="dropdown-item"><a href="/en/" class="nav-link" arialabel="English"><!---->English<!----></a></li></ul></button></div></div><div class="nav-item"><a class="repo-link" href="https://github.com/guomaimang/guomaimang.github.io" target="_blank" rel="noopener noreferrer"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewbox="0 0 1024 1024" arialabelledby="github" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><title id="github" lang="en">github icon</title><g fill="currentColor"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></g></svg></a></div><div class="nav-item hide-in-mobile"><button class="outlook-button" tabindex="-1" ariahidden="true"><svg xmlns="http://www.w3.org/2000/svg" class="icon outlook-icon" viewbox="0 0 1024 1024" arialabelledby="outlook"><title id="outlook" lang="en">outlook icon</title><g fill="currentColor"><path d="M224 800c0 9.6 3.2 44.8 6.4 54.4 6.4 48-48 76.8-48 76.8s80 41.6 147.2 0 134.4-134.4 38.4-195.2c-22.4-12.8-41.6-19.2-57.6-19.2C259.2 716.8 227.2 761.6 224 800zM560 675.2l-32 51.2c-51.2 51.2-83.2 32-83.2 32 25.6 67.2 0 112-12.8 128 25.6 6.4 51.2 9.6 80 9.6 54.4 0 102.4-9.6 150.4-32l0 0c3.2 0 3.2-3.2 3.2-3.2 22.4-16 12.8-35.2 6.4-44.8-9.6-12.8-12.8-25.6-12.8-41.6 0-54.4 60.8-99.2 137.6-99.2 6.4 0 12.8 0 22.4 0 12.8 0 38.4 9.6 48-25.6 0-3.2 0-3.2 3.2-6.4 0-3.2 3.2-6.4 3.2-6.4 6.4-16 6.4-16 6.4-19.2 9.6-35.2 16-73.6 16-115.2 0-105.6-41.6-198.4-108.8-268.8C704 396.8 560 675.2 560 675.2zM224 419.2c0-28.8 22.4-51.2 51.2-51.2 28.8 0 51.2 22.4 51.2 51.2 0 28.8-22.4 51.2-51.2 51.2C246.4 470.4 224 448 224 419.2zM320 284.8c0-22.4 19.2-41.6 41.6-41.6 22.4 0 41.6 19.2 41.6 41.6 0 22.4-19.2 41.6-41.6 41.6C339.2 326.4 320 307.2 320 284.8zM457.6 208c0-12.8 12.8-25.6 25.6-25.6 12.8 0 25.6 12.8 25.6 25.6 0 12.8-12.8 25.6-25.6 25.6C470.4 233.6 457.6 220.8 457.6 208zM128 505.6C128 592 153.6 672 201.6 736c28.8-60.8 112-60.8 124.8-60.8-16-51.2 16-99.2 16-99.2l316.8-422.4c-48-19.2-99.2-32-150.4-32C297.6 118.4 128 291.2 128 505.6zM764.8 86.4c-22.4 19.2-390.4 518.4-390.4 518.4-22.4 28.8-12.8 76.8 22.4 99.2l9.6 6.4c35.2 22.4 80 12.8 99.2-25.6 0 0 6.4-12.8 9.6-19.2 54.4-105.6 275.2-524.8 288-553.6 6.4-19.2-3.2-32-19.2-32C777.6 76.8 771.2 80 764.8 86.4z"></path></g></svg><div class="outlook-dropdown"><!----></div></button></div><!----><button class="toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span class="button-container"><span class="button-top"></span><span class="button-middle"></span><span class="button-bottom"></span></span></button><!--[--><!----><!--]--></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow left"></span></div><aside class="sidebar"><!--[--><!----><!--]--><ul class="sidebar-links"><li><!--[--><a href="/note/cs/os/" class="nav-link sidebar-link sidebar-page" arialabel="Operating System"><!---->Operating System<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/note/cs/os/Interrupt-and-system-call.html" class="nav-link sidebar-link sidebar-page" arialabel="Interrupts and System Calls"><!---->Interrupts and System Calls<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/note/cs/os/CPU-Scheduling.html" class="nav-link sidebar-link sidebar-page" arialabel="CPU Scheduling"><!---->CPU Scheduling<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/note/cs/os/Process-Management.html" class="nav-link sidebar-link sidebar-page" arialabel="Process Management"><!---->Process Management<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/note/cs/os/core-process-and-thread.html" class="nav-link sidebar-link sidebar-page" arialabel="æ ¸å¿ƒã€è¿›ç¨‹ä¸çº¿ç¨‹"><!---->æ ¸å¿ƒã€è¿›ç¨‹ä¸çº¿ç¨‹<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/note/cs/os/Memory-in-os.html" class="nav-link sidebar-link sidebar-page" arialabel="Memory in OS"><!---->Memory in OS<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/note/cs/os/Virtual-Memory.html" class="nav-link sidebar-link sidebar-page" arialabel="Virtual Memory"><!---->Virtual Memory<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><section class="sidebar-group"><button class="sidebar-heading clickable active"><!----><span class="title">Assembly language</span><span class="arrow down"></span></button><!--[--><!--[--><ul class="sidebar-links"><li><!--[--><a href="/note/cs/os/asm/gnu-gdb-std.html" class="nav-link sidebar-link sidebar-page" arialabel="GNUå®¶æ—ç®€ä»‹åŠGDBæ±‡ç¼–ç©æ³•"><!---->GNUå®¶æ—ç®€ä»‹åŠGDBæ±‡ç¼–ç©æ³•<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/note/cs/os/asm/llvm-std.html" class="nav-link sidebar-link sidebar-page" arialabel="LLVMç¼–è¯‘å™¨ç³»åˆ—ç®€ä»‹"><!---->LLVMç¼–è¯‘å™¨ç³»åˆ—ç®€ä»‹<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/note/cs/os/asm/x86_64-asm-std1.html" class="nav-link sidebar-link sidebar-page" arialabel="x86æ±‡ç¼–è¯­è¨€åŸºç¡€1"><!---->x86æ±‡ç¼–è¯­è¨€åŸºç¡€1<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/note/cs/os/asm/x86_64-asm-std2.html" class="nav-link sidebar-link sidebar-page" arialabel="x86æ±‡ç¼–è¯­è¨€åŸºç¡€2"><!---->x86æ±‡ç¼–è¯­è¨€åŸºç¡€2<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-current="page" href="/note/cs/os/asm/Y86-64-processer-arch.html" class="router-link-active router-link-exact-active nav-link active sidebar-link sidebar-page active" arialabel="Y86-64å¤„ç†å™¨æ¶æ„ç®€ä»‹"><!---->Y86-64å¤„ç†å™¨æ¶æ„ç®€ä»‹<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul><!--]--><!----><!--]--></section><!--]--></li></ul><!--[--><!----><!--]--></aside><!--[--><main class="page" id="main-content"><!----><nav class="breadcrumb disable"></nav><div class="page-title"><h1><!---->Y86-64å¤„ç†å™¨æ¶æ„ç®€ä»‹</h1><div class="article-info"><span class="author-info" arialabel="ä½œè€…ğŸ–Š" data-balloon-pos="down" isoriginal="false" pageview="false" color="true"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewbox="0 0 1024 1024" arialabelledby="author"><title id="author" lang="en">author icon</title><g fill="currentColor"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></g></svg><span><a class="author-item" href="/" target="_blank" rel="noopener noreferrer">HongShu</a></span><span property="author" content="HongShu"></span></span><!----><span class="date-info" arialabel="å†™ä½œæ—¥æœŸğŸ“…" data-balloon-pos="down" isoriginal="false" pageview="false" color="true"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewbox="0 0 1024 1024" arialabelledby="calendar"><title id="calendar" lang="en">calendar icon</title><g fill="currentColor"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></g></svg><span>2021å¹´5æœˆ1æ—¥</span><meta property="datePublished" content="2021-05-01T00:00:00.000Z"></span><!----><!----><span class="reading-time-info" arialabel="é˜…è¯»æ—¶é—´âŒ›" data-balloon-pos="down" isoriginal="false" pageview="false" color="true"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewbox="0 0 1024 1024" arialabelledby="timer"><title id="timer" lang="en">timer icon</title><g fill="currentColor"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></g></svg><span>å¤§çº¦ 9 åˆ†é’Ÿ</span><meta property="timeRequired" content="PT9M"></span></div><hr></div><div class="toc-place-holder"><aside id="toc-list"><div class="toc-header">æ­¤é¡µå†…å®¹</div><div class="toc-wrapper"><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/note/cs/os/asm/Y86-64-processer-arch.html#isa-æŒ‡ä»¤é›†æ¶æ„" class="router-link-active router-link-exact-active toc-link level2">ISA(æŒ‡ä»¤é›†æ¶æ„)</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/note/cs/os/asm/Y86-64-processer-arch.html#designing-an-isa" class="router-link-active router-link-exact-active toc-link level3">Designing an ISA</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/note/cs/os/asm/Y86-64-processer-arch.html#circuits" class="router-link-active router-link-exact-active toc-link level2">Circuits</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/note/cs/os/asm/Y86-64-processer-arch.html#digital-circuits" class="router-link-active router-link-exact-active toc-link level3">Digital circuits</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/note/cs/os/asm/Y86-64-processer-arch.html#combinational-circuits" class="router-link-active router-link-exact-active toc-link level3">Combinational circuits</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/note/cs/os/asm/Y86-64-processer-arch.html#storage-elements" class="router-link-active router-link-exact-active toc-link level3">Storage elements</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/note/cs/os/asm/Y86-64-processer-arch.html#y86-64-processor" class="router-link-active router-link-exact-active toc-link level2">Y86-64 processor</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/note/cs/os/asm/Y86-64-processer-arch.html#state" class="router-link-active router-link-exact-active toc-link level3">state</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/note/cs/os/asm/Y86-64-processer-arch.html#instruction-set" class="router-link-active router-link-exact-active toc-link level3">Instruction set</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/note/cs/os/asm/Y86-64-processer-arch.html#encoding-registers" class="router-link-active router-link-exact-active toc-link level3">Encoding registers</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/note/cs/os/asm/Y86-64-processer-arch.html#instruction-examples" class="router-link-active router-link-exact-active toc-link level3">Instruction examples</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/note/cs/os/asm/Y86-64-processer-arch.html#standard-stages-to-execute-one-instruction" class="router-link-active router-link-exact-active toc-link level3">Standard stages to execute one instruction</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/note/cs/os/asm/Y86-64-processer-arch.html#è¡¥å……ææ–™" class="router-link-active router-link-exact-active toc-link level2">è¡¥å……ææ–™</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/note/cs/os/asm/Y86-64-processer-arch.html#y86-64-instruction-set" class="router-link-active router-link-exact-active toc-link level3">Y86-64 instruction set</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/note/cs/os/asm/Y86-64-processer-arch.html#è¡¥å……ä¸€äº›æŒ‡ä»¤çš„stage" class="router-link-active router-link-exact-active toc-link level3">è¡¥å……ä¸€äº›æŒ‡ä»¤çš„stage</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/note/cs/os/asm/Y86-64-processer-arch.html#x86-x64-æŒ‡ä»¤é•¿åº¦" class="router-link-active router-link-exact-active toc-link level3">x86/x64 æŒ‡ä»¤é•¿åº¦</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/note/cs/os/asm/Y86-64-processer-arch.html#åšé¢˜ç¬”è®°" class="router-link-active router-link-exact-active toc-link level3">åšé¢˜ç¬”è®°</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/note/cs/os/asm/Y86-64-processer-arch.html#å¼•ç”¨ææ–™" class="router-link-active router-link-exact-active toc-link level2">å¼•ç”¨ææ–™</a></li><!----><!--]--></ul></div></aside></div><!----><div class="theme-hope-content"><!--[--><h1 id="y86-64å¤„ç†å™¨æ¶æ„ç®€ä»‹" tabindex="-1"><a class="header-anchor" href="#y86-64å¤„ç†å™¨æ¶æ„ç®€ä»‹" aria-hidden="true">#</a> Y86-64å¤„ç†å™¨æ¶æ„ç®€ä»‹</h1><img src="https://pic.hanjiaming.com.cn/2021/04/06/d920281841490.png" alt="image.png" title="image.png"><h2 id="isa-æŒ‡ä»¤é›†æ¶æ„" tabindex="-1"><a class="header-anchor" href="#isa-æŒ‡ä»¤é›†æ¶æ„" aria-hidden="true">#</a> ISA(æŒ‡ä»¤é›†æ¶æ„)</h2><blockquote><p><strong>æŒ‡ä»¤é›†æ¶æ„</strong>ï¼ˆè‹±è¯­ï¼šInstruction Set Architectureï¼Œç¼©å†™ä¸ºISAï¼‰ï¼Œåˆç§°<strong>æŒ‡ä»¤é›†</strong>æˆ–<strong>æŒ‡ä»¤é›†ä½“ç³»</strong>ï¼Œæ˜¯<a href="https://zh.wikipedia.org/wiki/%E8%AE%A1%E7%AE%97%E6%9C%BA%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84" target="_blank" rel="noopener noreferrer">è®¡ç®—æœºä½“ç³»ç»“æ„<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>ä¸­ä¸<a href="https://zh.wikipedia.org/wiki/%E7%A8%8B%E5%BA%8F%E8%A8%AD%E8%A8%88" target="_blank" rel="noopener noreferrer">ç¨‹åºè®¾è®¡<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>æœ‰å…³çš„éƒ¨åˆ†ï¼ŒåŒ…å«äº†<a href="https://zh.wikipedia.org/wiki/%E8%B3%87%E6%96%99%E5%9E%8B%E5%88%A5" target="_blank" rel="noopener noreferrer">åŸºæœ¬æ•°æ®ç±»å‹<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>ï¼ŒæŒ‡ä»¤é›†ï¼Œ<a href="https://zh.wikipedia.org/wiki/%E5%AF%84%E5%AD%98%E5%99%A8" target="_blank" rel="noopener noreferrer">å¯„å­˜å™¨<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>ï¼Œ<a href="https://zh.wikipedia.org/wiki/%E5%AF%BB%E5%9D%80%E6%A8%A1%E5%BC%8F" target="_blank" rel="noopener noreferrer">å¯»å€æ¨¡å¼<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>ï¼Œ<a href="https://zh.wikipedia.org/w/index.php?title=%E5%AD%98%E5%82%A8%E4%BD%93%E7%B3%BB&amp;action=edit&amp;redlink=1" target="_blank" rel="noopener noreferrer">å­˜å‚¨ä½“ç³»<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>ï¼Œ<a href="https://zh.wikipedia.org/wiki/%E4%B8%AD%E6%96%B7" target="_blank" rel="noopener noreferrer">ä¸­æ–­<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>ï¼Œ<a href="https://zh.wikipedia.org/wiki/%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86" target="_blank" rel="noopener noreferrer">å¼‚å¸¸å¤„ç†<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>ä»¥åŠå¤–éƒ¨<a href="https://zh.wikipedia.org/wiki/I/O" target="_blank" rel="noopener noreferrer">I/O<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>ã€‚æŒ‡ä»¤é›†æ¶æ„åŒ…å«ä¸€ç³»åˆ—çš„<a href="https://zh.wikipedia.org/w/index.php?title=Opcode&amp;action=edit&amp;redlink=1" target="_blank" rel="noopener noreferrer">opcode<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>å³æ“ä½œç ï¼ˆ<a href="https://zh.wikipedia.org/wiki/%E6%A9%9F%E5%99%A8%E8%AA%9E%E8%A8%80" target="_blank" rel="noopener noreferrer">æœºå™¨è¯­è¨€<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>ï¼‰ï¼Œä»¥åŠç”±ç‰¹å®šå¤„ç†å™¨æ‰§è¡Œçš„åŸºæœ¬å‘½ä»¤ã€‚</p><p>ä¸åŒçš„å¤„ç†å™¨â€œå®¶æ—â€â€”â€”ä¾‹å¦‚<a href="https://zh.wikipedia.org/wiki/Intel" target="_blank" rel="noopener noreferrer">Intel<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> <a href="https://zh.wikipedia.org/wiki/IA-32" target="_blank" rel="noopener noreferrer">IA-32<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>å’Œ<a href="https://zh.wikipedia.org/wiki/X86-64" target="_blank" rel="noopener noreferrer">x86-64<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>ã€<a href="https://zh.wikipedia.org/wiki/IBM" target="_blank" rel="noopener noreferrer">IBM<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>/Freescale Powerå’Œ<a href="https://zh.wikipedia.org/wiki/ARM" target="_blank" rel="noopener noreferrer">ARM<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>å¤„ç†å™¨å®¶æ—â€”â€”æœ‰ä¸åŒçš„æŒ‡ä»¤é›†æ¶æ„ã€‚[<a href="https://zh.wikipedia.org/wiki/%E6%8C%87%E4%BB%A4%E9%9B%86%E6%9E%B6%E6%A7%8B#cite_note-1" target="_blank" rel="noopener noreferrer">1]<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p>æŒ‡ä»¤é›†ä½“ç³»ä¸<a href="https://zh.wikipedia.org/wiki/%E5%BE%AE%E6%9E%B6%E6%A7%8B" target="_blank" rel="noopener noreferrer">å¾®æ¶æ„<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>ï¼ˆä¸€å¥—ç”¨äºæ‰§è¡ŒæŒ‡ä»¤é›†çš„å¾®å¤„ç†å™¨è®¾è®¡æ–¹æ³•ï¼‰ä¸åŒã€‚ä½¿ç”¨ä¸åŒå¾®æ¶æ„çš„ç”µè„‘å¯ä»¥å…±äº«ä¸€ç§æŒ‡ä»¤é›†ã€‚ä¾‹å¦‚ï¼Œ<a href="https://zh.wikipedia.org/wiki/%E8%8B%B1%E7%89%B9%E7%88%BE" target="_blank" rel="noopener noreferrer">Intel<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>çš„<a href="https://zh.wikipedia.org/wiki/%E5%A5%94%E9%A8%B0" target="_blank" rel="noopener noreferrer">Pentium<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>å’Œ<a href="https://zh.wikipedia.org/wiki/%E8%B6%85%E5%BE%AE%E5%8D%8A%E5%AF%BC%E4%BD%93" target="_blank" rel="noopener noreferrer">AMD<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>çš„<a href="https://zh.wikipedia.org/wiki/AMD_Athlon" target="_blank" rel="noopener noreferrer">AMD Athlon<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>ï¼Œä¸¤è€…å‡ ä¹é‡‡ç”¨ç›¸åŒç‰ˆæœ¬çš„<a href="https://zh.wikipedia.org/wiki/X86" target="_blank" rel="noopener noreferrer">x86<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>æŒ‡ä»¤é›†ä½“ç³»ï¼Œä½†æ˜¯ä¸¤è€…åœ¨å†…éƒ¨è®¾è®¡ä¸Šæœ‰æœ¬è´¨çš„åŒºåˆ«ã€‚</p><p>ç»´åŸºç™¾ç§‘</p></blockquote><h3 id="designing-an-isa" tabindex="-1"><a class="header-anchor" href="#designing-an-isa" aria-hidden="true">#</a> Designing an ISA</h3><ul><li>Designing processor states visible to programmersã€Œè®¾è®¡å¯¹ç¨‹åºå‘˜å¯è§çš„å¤„ç†å™¨çŠ¶æ€ã€</li><li>Designing a set of instructionsã€Œè®¾è®¡ä¸€å¥—æŒ‡ä»¤ã€</li><li>Encoding the instructionsã€Œå¯¹æŒ‡ä»¤ç¼–ç ã€</li></ul><p>All the above designs will be exemplified by the Y86-64 ISA --- a much simpler X86 ISA enough to demonstrate the key conceptsã€Œä»¥ä¸Šæ‰€æœ‰è®¾è®¡éƒ½å°†ä»¥Y86-64 ISAä¸ºä¾‹-ä¸€ç§æ›´ç®€å•çš„X86 ISAï¼Œè¶³ä»¥æ¼”ç¤ºå…³é”®æ¦‚å¿µã€</p><h2 id="circuits" tabindex="-1"><a class="header-anchor" href="#circuits" aria-hidden="true">#</a> Circuits</h2><img src="https://pic.hanjiaming.com.cn/2021/04/06/0f104d60eef46.png" alt="image.png" title="image.png"><h3 id="digital-circuits" tabindex="-1"><a class="header-anchor" href="#digital-circuits" aria-hidden="true">#</a> Digital circuits</h3><h4 id="logic-gates" tabindex="-1"><a class="header-anchor" href="#logic-gates" aria-hidden="true">#</a> Logic gates</h4><p>Logic gatesï¼šBasic computing electronic circuit elementsã€ŒBasic computing electronic circuit elementsã€</p><img src="https://pic.hanjiaming.com.cn/2021/04/06/8a4d6b082289a.png" alt="image.png" title="image.png"><ul><li>Logic gates are always active, is some input to a gate changes, then within some small amount of time, the output will change accordinglyã€Œé€»è¾‘é—¨å§‹ç»ˆå¤„äºæ´»åŠ¨çŠ¶æ€ï¼ŒæŸä¸ªé—¨çš„æŸäº›è¾“å…¥ä¼šå‘ç”Ÿå˜åŒ–ï¼Œç„¶ååœ¨çŸ­æ—¶é—´å†…ï¼Œè¾“å‡ºå°†ç›¸åº”åœ°å‘ç”Ÿå˜åŒ–ã€</li><li>Can be represented by hardware control language (HCL)ã€Œå¯ä»¥ç”¨ç¡¬ä»¶æ§åˆ¶è¯­è¨€ï¼ˆHCLï¼‰è¡¨ç¤ºã€ <ul><li>æ¯”å¦‚ï¼šout = a &amp;&amp; b; out = a || b â€¦</li></ul></li></ul><h3 id="combinational-circuits" tabindex="-1"><a class="header-anchor" href="#combinational-circuits" aria-hidden="true">#</a> Combinational circuits</h3><img src="https://pic.hanjiaming.com.cn/2021/04/06/3ab61659e1f5e.png" alt="image.png" title="image.png"><h4 id="example-1" tabindex="-1"><a class="header-anchor" href="#example-1" aria-hidden="true">#</a> Example 1</h4><p>if a and b are equal, output 1; otherwise, output 0With <strong>and</strong>, <strong>or</strong> and <strong>not</strong> gates</p><img src="https://pic.hanjiaming.com.cn/2021/04/06/1bff53702ecca.png" alt="image.png" title="image.png"><h4 id="example-2" tabindex="-1"><a class="header-anchor" href="#example-2" aria-hidden="true">#</a> Example 2</h4><p>selecting a or b according to s</p><img src="https://pic.hanjiaming.com.cn/2021/04/06/115ad8e71b87a.png" alt="image.png" title="image.png"><h4 id="example-3" tabindex="-1"><a class="header-anchor" href="#example-3" aria-hidden="true">#</a> Example 3</h4><p>From a single bit to multiple bits (word)</p><img src="https://pic.hanjiaming.com.cn/2021/04/06/054f5031eabdd.png" alt="image.png" title="image.png"><img src="https://pic.hanjiaming.com.cn/2021/04/06/4fc3c0a80d5b1.png" alt="image.png" title="image.png"><h4 id="arithmetic-logic-unit-alu" tabindex="-1"><a class="header-anchor" href="#arithmetic-logic-unit-alu" aria-hidden="true">#</a> Arithmetic Logic Unit (ALU)</h4><img src="https://pic.hanjiaming.com.cn/2021/04/06/28c1935a003ca.png" alt="image.png" title="image.png"><ul><li>Using and, or, not gates to implement arithmetic logicã€ŒUsing and, or, not gates to implement arithmetic logicã€</li><li>Compute the result, and set the conditional codesã€ŒCompute the result, and set the conditional codesã€</li><li>Inputs and outputs are multi-bit wordã€ŒInputs and outputs are multi-bit wordã€</li></ul><h3 id="storage-elements" tabindex="-1"><a class="header-anchor" href="#storage-elements" aria-hidden="true">#</a> Storage elements</h3><p>Storage elements are special electronic circuits that can retain data valuesã€Œå­˜å‚¨å…ƒä»¶æ˜¯å¯ä»¥ä¿ç•™æ•°æ®å€¼çš„ç‰¹æ®Šç”µå­ç”µè·¯ã€</p><ul><li>Storage elements can be read or written</li><li>Storage elements can be addressed</li><li>Storage elements rely on clocks to retain data valuesã€Œå­˜å‚¨å…ƒä»¶ä¾é æ—¶é’Ÿæ¥ä¿ç•™æ•°æ®å€¼ã€</li></ul><img src="https://pic.hanjiaming.com.cn/2021/04/06/0957074806422.png" alt="image.png" title="image.png"><h2 id="y86-64-processor" tabindex="-1"><a class="header-anchor" href="#y86-64-processor" aria-hidden="true">#</a> Y86-64 processor</h2><h3 id="state" tabindex="-1"><a class="header-anchor" href="#state" aria-hidden="true">#</a> state</h3><img src="https://pic.hanjiaming.com.cn/2021/04/06/2bd639cb02fff.png" alt="image.png" title="image.png"><ul><li>15 64-bit general purpose registers</li><li>Conditional codes <ul><li>ZF: zero;</li><li>SF: negative;</li><li>OF: overflow</li></ul></li><li>Program Counterï¼šIndicates address of next instruction</li><li>Memory <ul><li>Byte-addressable storage arrayã€Œå­—èŠ‚-å¯å¯»å€å­˜å‚¨é˜µåˆ—ã€</li><li>Words stored in little-endian byte orderã€Œä»¥little-endianå­—èŠ‚é¡ºåºå­˜å‚¨çš„å•è¯ã€</li></ul></li></ul><h4 id="little-endian" tabindex="-1"><a class="header-anchor" href="#little-endian" aria-hidden="true">#</a> little-endian</h4><p>å…¶å®<em>big endian</em>æ˜¯æŒ‡ä½åœ°å€å­˜æ”¾æœ€é«˜æœ‰æ•ˆå­—èŠ‚ï¼ˆ<em>MSB</em>ï¼‰ï¼Œè€Œ<em>little endian</em>åˆ™æ˜¯ä½åœ°å€å­˜æ”¾æœ€ä½æœ‰æ•ˆå­—èŠ‚ï¼ˆ<em>LSB</em>ï¼‰ã€‚</p><p>ç”¨æ–‡å­—è¯´æ˜å¯èƒ½æ¯”è¾ƒæŠ½è±¡ï¼Œä¸‹é¢ç”¨å›¾åƒåŠ ä»¥è¯´æ˜ã€‚æ¯”å¦‚æ•°å­—<em>0x12345678</em>åœ¨ä¸¤ç§ä¸åŒå­—èŠ‚åº<em>CPU</em>ä¸­çš„å­˜å‚¨é¡ºåºå¦‚ä¸‹æ‰€ç¤ºï¼š</p><img src="https://pic.hanjiaming.com.cn/2021/04/06/953f738b410d7.png" alt="image.png" title="image.png"><p>ä»ä¸Šé¢ä¸¤å›¾å¯ä»¥çœ‹å‡ºï¼Œé‡‡ç”¨<em>big endian</em>æ–¹å¼å­˜å‚¨æ•°æ®æ˜¯ç¬¦åˆæˆ‘ä»¬äººç±»çš„æ€ç»´ä¹ æƒ¯çš„ã€‚</p><h3 id="instruction-set" tabindex="-1"><a class="header-anchor" href="#instruction-set" aria-hidden="true">#</a> Instruction set</h3><img src="https://pic.hanjiaming.com.cn/2021/04/06/aeb49c2d6fe40.png" alt="image.png" title="image.png"><img src="https://pic.hanjiaming.com.cn/2021/04/06/56d0691aa2d6f.png" alt="image.png" title="image.png"><h3 id="encoding-registers" tabindex="-1"><a class="header-anchor" href="#encoding-registers" aria-hidden="true">#</a> Encoding registers</h3><p>ç»™å¯„å­˜å™¨ç¼–ç </p><p>Each register is uniquely specified by a 4-bit IDã€Œæ¯ä¸ªå¯„å­˜å™¨ç”±ä¸€ä¸ª4ä½IDå”¯ä¸€åœ°æŒ‡å®šã€</p><img src="https://pic.hanjiaming.com.cn/2021/04/06/a49025d5218d5.png" alt="image.png" title="image.png"><p>ID 15 (0xF) indicates â€œno registerâ€ã€ŒID 15ï¼ˆ0x Fï¼‰è¡¨ç¤ºâ€œæ— å¯„å­˜å™¨â€ã€</p><h3 id="instruction-examples" tabindex="-1"><a class="header-anchor" href="#instruction-examples" aria-hidden="true">#</a> Instruction examples</h3><img src="https://pic.hanjiaming.com.cn/2021/04/06/91a28ca36c197.png" alt="image.png" title="image.png"><p><strong>Uniqueness (requirement on designing an ISA)ã€Œå”¯ä¸€æ€§ï¼ˆè®¾è®¡ISAçš„è¦æ±‚ï¼‰ã€</strong></p><ul><li>The encodings must have a unique interpretationã€Œç¼–ç å¿…é¡»å…·æœ‰å”¯ä¸€çš„è§£é‡Šã€</li><li>Given a sequence of bytes (machine code), it can be interpreted into only one valid sequence of instructionsã€Œç»™å®šä¸€ä¸ªå­—èŠ‚åºåˆ—ï¼ˆæœºå™¨ä»£ç ï¼‰ï¼Œå®ƒåªèƒ½è§£é‡Šä¸ºä¸€ä¸ªæœ‰æ•ˆçš„æŒ‡ä»¤åºåˆ—ã€</li><li>From the first instruction, always being able to find the start byte of the next instructionã€Œä»ç¬¬ä¸€æ¡æŒ‡ä»¤å¼€å§‹ï¼Œæ€»æ˜¯èƒ½å¤Ÿæ‰¾åˆ°ä¸‹ä¸€æ¡æŒ‡ä»¤çš„èµ·å§‹å­—èŠ‚</li></ul><h3 id="standard-stages-to-execute-one-instruction" tabindex="-1"><a class="header-anchor" href="#standard-stages-to-execute-one-instruction" aria-hidden="true">#</a> Standard stages to execute one instruction</h3><ul><li>We have â€¦â€¦ <ul><li>Hardware building blocks that can do arithmetic computation</li><li>Hardware storage elements to store data</li><li>Machine instructions defined</li></ul></li><li>We want to put all these things together to build a CPU <ul><li>That can read and understand a program in machine instructions</li><li>That can perform the functions specified by the machine instructions <ul><li>By operating the computation and storage elements of the CPU</li></ul></li></ul></li></ul><img src="https://pic.hanjiaming.com.cn/2021/04/06/d8d400734d87c.png" alt="image.png" title="image.png"><ul><li>As there are so many instructions, it will be not wise to design a specific hardware circuit for each instructionã€Œç”±äºæŒ‡ä»¤å¤ªå¤šï¼Œä¸ºæ¯ä¸ªæŒ‡ä»¤è®¾è®¡ç‰¹å®šçš„ç¡¬ä»¶ç”µè·¯æ˜¯ä¸æ˜æ™ºçš„ã€‚ã€</li><li>The execution of instructions is standardized, i.e., all instructions follow the same steps, an in each step share the same hardwareã€ŒæŒ‡ä»¤çš„æ‰§è¡Œæ˜¯æ ‡å‡†åŒ–çš„ï¼Œå³æ‰€æœ‰æŒ‡ä»¤éƒ½éµå¾ªç›¸åŒçš„æ­¥éª¤ï¼Œå¹¶ä¸”æ¯ä¸€æ­¥éƒ½å…±äº«ç›¸åŒçš„ç¡¬ä»¶ã€</li></ul><table><thead><tr><th><strong>Stages/Steps</strong></th><th><strong>Functions</strong></th></tr></thead><tbody><tr><td>Fetch</td><td>Read an instruction from the memoryã€Œä»å†…å­˜ä¸­è¯»å–æŒ‡ä»¤ã€</td></tr><tr><td>Decode</td><td>Read operandsã€Œæ“ä½œæ•°ã€ from registersã€Œä»å¯„å­˜å™¨è¯»å–æ“ä½œæ•°ã€</td></tr><tr><td>Execute</td><td>Compute value or addressã€Œæ•°å­¦è®¡ç®—ã€</td></tr><tr><td>Memory access</td><td>Read or write data from/to memoryã€Œä»å†…å­˜è¯»å–æ•°æ®æˆ–å‘å†…å­˜å†™å…¥æ•°æ®ã€</td></tr><tr><td>Write back</td><td>Write results to registersã€Œå°†ç»“æœå†™å…¥å¯„å­˜å™¨ã€</td></tr><tr><td>PC update</td><td>Update PC, get ready for the next instructionã€Œæ›´æ–°PCï¼Œå‡†å¤‡ä¸‹ä¸€æ¡æŒ‡ä»¤ã€</td></tr></tbody></table><img src="https://pic.hanjiaming.com.cn/2021/04/06/7da880ef9f9e4.png" alt="image.png" title="image.png"><h4 id="computed-values" tabindex="-1"><a class="header-anchor" href="#computed-values" aria-hidden="true">#</a> Computed values</h4><p>Stored in CPU on hardware lines/pins</p><img src="https://pic.hanjiaming.com.cn/2021/04/06/fcd00f369cbe0.png" alt="image.png" title="image.png"><h4 id="run-the-machine-codes" tabindex="-1"><a class="header-anchor" href="#run-the-machine-codes" aria-hidden="true">#</a> Run the machine codes</h4><p>Use an example program to show how the CPU run a program in the machine code formã€Œä½¿ç”¨ç¤ºä¾‹ç¨‹åºæ¥æ˜¾ç¤ºCPUå¦‚ä½•ä»¥æœºå™¨ä»£ç å½¢å¼è¿è¡Œç¨‹åºã€</p><img src="https://pic.hanjiaming.com.cn/2021/04/06/f8e7c1dcc5d1f.png" alt="image.png" title="image.png"><img src="https://pic.hanjiaming.com.cn/2021/04/06/cd2a72a3bce61.png" alt="image.png" title="image.png"><img src="https://pic.hanjiaming.com.cn/2021/04/06/2adaee0b7cf78.png" alt="image.png" title="image.png"><img src="https://pic.hanjiaming.com.cn/2021/04/06/f098f6890120f.png" alt="image.png" title="image.png"><img src="https://pic.hanjiaming.com.cn/2021/04/06/c01a577b8fe0c.png" alt="image.png" title="image.png"><img src="https://pic.hanjiaming.com.cn/2021/04/16/17e1736f22460.png" alt="image.png" title="image.png"><h4 id="pipeline" tabindex="-1"><a class="header-anchor" href="#pipeline" aria-hidden="true">#</a> Pipeline</h4><img src="https://pic.hanjiaming.com.cn/2021/04/06/04f3b2593ea6d.png" alt="image.png" title="image.png"><ul><li>The whole production process is composed of multiple stagesã€Œæ•´ä¸ªç”Ÿäº§è¿‡ç¨‹ç”±å¤šä¸ªé˜¶æ®µç»„æˆã€</li><li>Worker on each stage do only ONE thingã€Œæ¯ä¸ªé˜¶æ®µçš„å·¥äººåªèƒ½åšä¸€ä»¶äº‹æƒ…ã€</li><li>Products line up on the pipeline, each goes through all stagesã€Œäº§å“åœ¨æµæ°´çº¿ä¸­æ’åˆ—ï¼Œæ¯ä¸ªé˜¶æ®µéƒ½ç»è¿‡å„ä¸ªé˜¶æ®µã€</li></ul><p>Rethinking the sequential machine</p><p>Every instruction goes through six stagesã€Œæ¯æ¡æŒ‡ä»¤éƒ½ç»è¿‡å…­ä¸ªé˜¶æ®µã€</p><p>In the sequential implementation, when the instruction is in one stage, e.g., execute, all the hardware components in other stages are idleã€Œåœ¨é¡ºåºå®ç°ä¸­ï¼Œå½“æŒ‡ä»¤å¤„äºä¸€ä¸ªé˜¶æ®µï¼Œä¾‹å¦‚æ‰§è¡Œæ—¶ï¼Œå…¶ä»–é˜¶æ®µçš„æ‰€æœ‰ç¡¬ä»¶ç»„ä»¶éƒ½å¤„äºç©ºé—²çŠ¶æ€ã€</p><p>This is under-utilization of the processor hardwareã€Œè¿™æ˜¯åœ¨-å¤„ç†å™¨ç¡¬ä»¶çš„åˆ©ç”¨ç‡ä¸è¶³ã€</p><h5 id="understanding-the-performance-of-pipeline" tabindex="-1"><a class="header-anchor" href="#understanding-the-performance-of-pipeline" aria-hidden="true">#</a> Understanding the performance of pipeline</h5><p>Executing an instruction consumes 300ps (1ps = 10-12s)</p><p>How many instructions can we execute in 1s? (throughput, IPS)<br> 1/(300 * 10-12) = 3.33 X 109 instructionsï¼ˆ<strong>åœ¨æ— åŒæ—¶æ‰§è¡Œçš„æƒ…å†µä¸‹</strong>ï¼‰</p><img src="https://pic.hanjiaming.com.cn/2021/04/06/2deff4a398e41.png" alt="image.png" title="image.png"><p>Decompose the execution of each instruction into 3 stages, each stage takes 100ps to executeã€Œå°†æ¯ä¸ªæŒ‡ä»¤çš„æ‰§è¡Œåˆ†è§£ä¸º3ä¸ªé˜¶æ®µï¼Œæ¯ä¸ªé˜¶æ®µéœ€è¦100psçš„æ‰§è¡Œæ—¶é—´ã€</p><img src="https://pic.hanjiaming.com.cn/2021/04/06/315916204a29a.png" alt="image.png" title="image.png"><p>How many instructions can we execute in 1s? (throughput, IPS)ã€Œæˆ‘ä»¬å¯ä»¥åœ¨ä¸€ç§’å†…æ‰§è¡Œå¤šå°‘æ¡æŒ‡ä»¤ï¼Ÿ ï¼ˆååé‡ï¼ŒIPSï¼‰ã€</p><ul><li><p>1/(100 * 10-12) = 1010</p></li><li><p>3 times faster than the execution above</p></li><li><p>Adding registers between two consecutive pipeline stagesã€Œåœ¨ä¸¤ä¸ªè¿ç»­çš„æµæ°´çº¿é˜¶æ®µä¹‹é—´æ·»åŠ å¯„å­˜å™¨ã€</p></li><li><p>Each time a clock signal arrives, the result of stage-x will be written to the register between stage-x and stage-(x+1)ã€Œæ¯æ¬¡æ—¶é’Ÿä¿¡å·åˆ°è¾¾æ—¶ï¼Œstage-x çš„ç»“æœå°†è¢«å†™å…¥stage-xå’Œ stage-ï¼ˆx + 1ï¼‰ä¹‹é—´çš„å¯„å­˜å™¨ä¸­ã€</p></li><li><p><strong>Once the result of stage-x is written, the next stage can start execution with the result as its inputã€Œå†™å…¥stage-xçš„ç»“æœåï¼Œä¸‹ä¸€ä¸ªstageå¯ä»¥å¼€å§‹æ‰§è¡Œï¼Œå¹¶å°†ç»“æœä½œä¸ºè¾“å…¥ã€</strong></p></li><li><p>Accessing registers introduces extra time delay; the end-to-end latency of finishing a single instruction is increasedã€Œè®¿é—®å¯„å­˜å™¨ä¼šå¸¦æ¥é¢å¤–çš„æ—¶é—´å»¶è¿Ÿï¼›å®Œæˆä¸€æ¡æŒ‡ä»¤çš„ç«¯åˆ°ç«¯å»¶è¿Ÿå¢åŠ äº†ã€</p></li></ul><img src="https://pic.hanjiaming.com.cn/2021/04/06/54c468a9e7c77.png" alt="image.png" title="image.png"><h5 id="redesign-the-cpu-with-pipeline" tabindex="-1"><a class="header-anchor" href="#redesign-the-cpu-with-pipeline" aria-hidden="true">#</a> Redesign the CPU with pipeline</h5><img src="https://pic.hanjiaming.com.cn/2021/04/06/a6c6c55580000.png" alt="image.png" title="image.png"><h5 id="bad-pipeline-design" tabindex="-1"><a class="header-anchor" href="#bad-pipeline-design" aria-hidden="true">#</a> Bad pipeline design</h5><p>Nonuniform partitioningã€Œåˆ†åŒºä¸å‡åŒ€ã€<br><strong>Latency is determined by the longest stageã€Œå»¶è¿Ÿç”±æœ€é•¿çš„é˜¶æ®µå†³å®šã€</strong></p><img src="https://pic.hanjiaming.com.cn/2021/04/06/6780b3fb4bee8.png" alt="image.png" title="image.png"><h6 id="make-the-pipeline-stages-uniform" tabindex="-1"><a class="header-anchor" href="#make-the-pipeline-stages-uniform" aria-hidden="true">#</a> Make the pipeline stages uniform</h6><img src="https://pic.hanjiaming.com.cn/2021/04/06/906da6b8887b9.png" alt="image.png" title="image.png"><ul><li>More stages: deep pipeline</li><li>More stage registers -&gt; more time overhead</li><li>Sometimes, a stage cannot be decomposedã€Œåˆ†è§£çš„ã€</li></ul><h5 id="data-hazard-in-pipelines" tabindex="-1"><a class="header-anchor" href="#data-hazard-in-pipelines" aria-hidden="true">#</a> Data hazard in pipelines</h5><p>Data hazard in pipelinesã€Œç®¡é“ä¸­çš„æ•°æ®å±å®³ã€</p><ul><li>Data dependencies: the results computed by one instruction are used as the data for a following instructionã€Œæ•°æ®ä¾å­˜å…³ç³»ï¼šä¸€æ¡æŒ‡ä»¤è®¡ç®—çš„ç»“æœç”¨ä½œä¸‹ä¸€æ¡æŒ‡ä»¤çš„æ•°æ®ã€</li><li>Data hazard: data dependencies have the potential to cause an erroneous computation by the pipelineã€Œæ•°æ®å±å®³ï¼šæ•°æ®ä¾èµ–æ€§å¯èƒ½ä¼šå¯¼è‡´ç®¡é“è®¡ç®—é”™è¯¯ã€</li></ul><img src="https://pic.hanjiaming.com.cn/2021/04/06/db1bcd3177182.png" alt="image.png" title="image.png"><h6 id="solution-stalling" tabindex="-1"><a class="header-anchor" href="#solution-stalling" aria-hidden="true">#</a> Solution: Stalling</h6><img src="https://pic.hanjiaming.com.cn/2021/04/06/6cbdf7ace4050.png" alt="image.png" title="image.png"><h5 id="other-problems" tabindex="-1"><a class="header-anchor" href="#other-problems" aria-hidden="true">#</a> Other Problems</h5><ul><li>Stalling a pipeline reduces performanceã€Œåœæ»ç®¡é“ä¼šé™ä½æ€§èƒ½ã€</li><li>There are other ways to remove the data hazardsã€Œè¿˜æœ‰å…¶ä»–æ–¹æ³•å¯ä»¥æ¶ˆé™¤æ•°æ®å±å®³ã€</li><li>There are control hazards, and of course solutionsã€Œæœ‰æ§åˆ¶å±é™©ï¼Œå½“ç„¶ä¹Ÿæœ‰è§£å†³åŠæ³•ã€</li><li>There are out-of-order pipelines (instruction execution sequence are changed), multi-issue pipelinesã€Œæœ‰ä¹±åºç®¡é“ï¼ˆæŒ‡ä»¤æ‰§è¡Œé¡ºåºå·²æ›´æ”¹ï¼‰ï¼Œå¤šå‘å¸ƒç®¡é“ã€</li><li>â€¦â€¦</li></ul><p>Pipelines are a very important feature to the performance of contemporary powerful CPUs, very complex designs existã€Œç®¡é“æ˜¯å½“ä»£åŠŸèƒ½å¼ºå¤§çš„CPUsæ€§èƒ½çš„éå¸¸é‡è¦çš„ç‰¹å¾ï¼Œå­˜åœ¨éå¸¸å¤æ‚çš„è®¾è®¡ã€</p><hr><h2 id="è¡¥å……ææ–™" tabindex="-1"><a class="header-anchor" href="#è¡¥å……ææ–™" aria-hidden="true">#</a> è¡¥å……ææ–™</h2><h3 id="y86-64-instruction-set" tabindex="-1"><a class="header-anchor" href="#y86-64-instruction-set" aria-hidden="true">#</a> Y86-64 instruction set</h3><img src="https://pic.hanjiaming.com.cn/2021/05/13/dfabed4fb112d.png" alt="1620889874072.png" title="1620889874072.png"><h3 id="è¡¥å……ä¸€äº›æŒ‡ä»¤çš„stage" tabindex="-1"><a class="header-anchor" href="#è¡¥å……ä¸€äº›æŒ‡ä»¤çš„stage" aria-hidden="true">#</a> è¡¥å……ä¸€äº›æŒ‡ä»¤çš„stage</h3><h4 id="mrmovq" tabindex="-1"><a class="header-anchor" href="#mrmovq" aria-hidden="true">#</a> mrmovq</h4><img src="https://pic.hanjiaming.com.cn/2021/05/13/64dbe34aa455e.png" alt="1620890018309.png" title="1620890018309.png"><h4 id="jg" tabindex="-1"><a class="header-anchor" href="#jg" aria-hidden="true">#</a> jg</h4><img src="https://pic.hanjiaming.com.cn/2021/05/13/40ea4c2492224.png" alt="1620890069997.png" title="1620890069997.png"><h4 id="cmovle" tabindex="-1"><a class="header-anchor" href="#cmovle" aria-hidden="true">#</a> cmovle</h4><img src="https://pic.hanjiaming.com.cn/2021/05/13/5192d957a02b8.png" alt="1620890163626.png" title="1620890163626.png"><h3 id="x86-x64-æŒ‡ä»¤é•¿åº¦" tabindex="-1"><a class="header-anchor" href="#x86-x64-æŒ‡ä»¤é•¿åº¦" aria-hidden="true">#</a> x86/x64 æŒ‡ä»¤é•¿åº¦</h3><p>AMD manual Vol3 ç¬¬ 1.1 Instruction Byte Brder èŠ‚ä¸­æ˜ç¡®åœ°è¯´ï¼šAn instruction can be between one and 15 bytes in length.</p><h3 id="åšé¢˜ç¬”è®°" tabindex="-1"><a class="header-anchor" href="#åšé¢˜ç¬”è®°" aria-hidden="true">#</a> åšé¢˜ç¬”è®°</h3><ol><li>å¯¹äºæ¯ä¸ªæŒ‡ä»¤ï¼Œéƒ½æœ‰æ‰§è¡ŒDecodeã€Write backã€Memory è¿™å‡ ä¸ªè¿‡ç¨‹ã€‚le xxx æŒ‡ä»¤åªæœ‰è¿™ä¸‰ä¸ªè¿‡ç¨‹</li></ol><h2 id="å¼•ç”¨ææ–™" tabindex="-1"><a class="header-anchor" href="#å¼•ç”¨ææ–™" aria-hidden="true">#</a> å¼•ç”¨ææ–™</h2><ul><li>https://zh.wikipedia.org/wiki/%E6%8C%87%E4%BB%A4%E9%9B%86%E6%9E%B6%E6%A7%8B</li><li>https://blog.csdn.net/sunshine1314/article/details/2309655</li><li>AMD manual Vol3</li><li>COMP1411 @ PolyU&#39;s PowerPoint</li></ul><!--]--></div><!----><footer class="page-meta"><div class="meta-item edit-link"><a href="https://github.com/guomaimang/guomaimang.github.io/edit/main/src/note/cs/os/asm/Y86-64-processer-arch.md" rel="noopener noreferrer" target="_blank" arialabel="ç¼–è¾‘æ­¤é¡µ" class="nav-link label"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon edit-icon" viewbox="0 0 1024 1024" arialabelledby="edit"><title id="edit" lang="en">edit icon</title><g fill="currentColor"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></g></svg><!--]-->ç¼–è¾‘æ­¤é¡µ<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></div><div class="meta-item update-time"><span class="label">ä¸Šæ¬¡ç¼–è¾‘äº: </span><span class="info">2022/3/14 12:06:13</span></div><div class="meta-item contributors"><span class="label">è´¡çŒ®è€…: </span><!--[--><!--[--><span class="contributor" title="email: 47519540+guomaimang@users.noreply.github.com">hanjiaming</span><!--]--><!--]--></div></footer><nav class="page-nav"><a href="/note/cs/os/asm/x86_64-asm-std2.html" class="nav-link prev" arialabel="x86æ±‡ç¼–è¯­è¨€åŸºç¡€2"><div class="hint"><span class="arrow left"></span>ä¸Šä¸€é¡µ</div><div class="link"><!---->x86æ±‡ç¼–è¯­è¨€åŸºç¡€2</div></a><!----></nav><div class="giscus-wrapper input-top" style="display:block;"><!----></div><!----></main><!--]--><footer class="footer-wrapper"><div class="footer">Legends never die.</div><div class="copyright">Copyright Â© 2022 HongShu</div></footer></div><!--]--><!----><!--[--><!-- Root element of PhotoSwipe. Must have class pswp. --><div class="pswp" tabindex="-1" role="dialog" aria-hidden="true"><!-- Background of PhotoSwipe. 
    Itâ€™s a separate element, as animating opacity is faster than rgba().--><div class="pswp__bg"></div><!-- Slides wrapper with overflow:hidden. --><div class="pswp__scroll-wrap"><!-- Container that holds slides. PhotoSwipe keeps only 3 slides in DOM to save memory. --><div class="pswp__container"><!-- donâ€™t modify these 3 pswp__item elements, data is added later on --><div class="pswp__item"></div><div class="pswp__item"></div><div class="pswp__item"></div></div><!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. --><div class="pswp__ui pswp__ui--hidden"><div class="pswp__top-bar"><!--  Controls are self-explanatory. Order can be changed. --><div class="pswp__counter"></div><button class="pswp__button pswp__button--close" title="å…³é—­"></button><button class="pswp__button pswp__button--share" title="åˆ†äº«"></button><button class="pswp__button pswp__button--fs" title="åˆ‡æ¢å…¨å±"></button><button class="pswp__button pswp__button--zoom" title="ç¼©æ”¾"></button><!-- Preloader demo https://codepen.io/dimsemenov/pen/yyBWoR --><!-- element will get class pswp__preloader--active when preloader is running --><div class="pswp__preloader"><div class="pswp__preloader__icn"><div class="pswp__preloader__cut"><div class="pswp__preloader__donut"></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class="pswp__share-tooltip"></div></div><button class="pswp__button pswp__button--arrow--left" title="ä¸Šä¸€ä¸ª (å·¦ç®­å¤´)"></button><button class="pswp__button pswp__button--arrow--right" title="ä¸‹ä¸€ä¸ª (å³ç®­å¤´)"></button><div class="pswp__caption"><div class="pswp__caption__center"></div></div></div></div></div><!--]--><!--]--></div>
    <script type="module" src="/assets/app.e03d7337.js" defer></script>
  </body>
</html>
